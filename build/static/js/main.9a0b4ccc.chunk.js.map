{"version":3,"sources":["store/index.js","components/User/User.js","components/UsersList/UsersList.js","components/UserDetails/UserDetails.js","App.js","index.js"],"names":["API_URLS","ACTION_TYPES","START_LOADING","HANDLE_SUCCESS","DELETE_USER","EDIT_USER","loadData","dispatch","type","fetch","concat","then","response","json","users","data","payload","deleteUser","id","method","removeUser","editUser","value","changeUser","initialState","isLoading","isLoaded","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","state","arguments","length","undefined","action","_objectSpread","reduce","acc","user","Object","toConsumableArray","map","first_name","applyMiddleware","thunk","User","isUserEditing","userNameValue","_this","props","showUserEditForm","setState","setNewValue","_ref","target","onKeyPressed","event","key","_callee","regenerator_default","a","wrap","_context","prev","next","preventDefault","trim","stop","_this2","this","_this$props","_this$props$user","avatar","_this$state","react_default","createElement","className","src","alt","onSubmit","onChange","onBlur","onKeyDown","autoFocus","onClick","react_router_dom","to","React","Component","connect","UsersList","disabled","components_User_User","userId","match","params","_users$filter","filter","String","_users$filter2$","slicedToArray","last_name","email","App","react_router","path","exact","component","UserDetails","ReactDOM","render","es","basename","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9a0b4ccc.chunk.js","sourcesContent":["import {\n  createStore,\n  applyMiddleware,\n  compose\n} from 'redux';\n\nimport thunk from 'redux-thunk';\n\nconst API_URLS = {\n  BASE: 'https://reqres.in/api',\n  GET_USERS: '/users?delay=2',\n  DELETE_USER: '/users/',\n};\n\nconst ACTION_TYPES = {\n  START_LOADING: 'START_LOADING',\n  HANDLE_SUCCESS: 'HANDLE_SUCCESS',\n  DELETE_USER: 'DELETE_USER',\n  EDIT_USER: 'EDIT_USER',\n};\n\nexport const startLoading = () => ({\n  type: ACTION_TYPES.START_LOADING,\n});\n\nexport const addUsers = users => ({\n  type: ACTION_TYPES.HANDLE_SUCCESS,\n  payload: users,\n});\n\nexport const changeUser = (id, value) => ({\n  type: ACTION_TYPES.EDIT_USER,\n  payload: {\n    id,\n    value,\n  },\n});\n\nexport const removeUser = id => ({\n  type: ACTION_TYPES.DELETE_USER,\n  payload: id,\n});\n\nexport const loadData = () => {\n  return dispatch => {\n    dispatch(startLoading());\n\n    return (\n      fetch(`${API_URLS.BASE}${API_URLS.GET_USERS}`)\n        .then(response => (\n          response.json()\n        ))\n        .then(response => {\n          dispatch(addUsers(response.data));\n        })\n    );\n  }\n};\n\nexport const deleteUser = (id) => {\n  return dispatch => {\n    return (\n      fetch(`${API_URLS.BASE}${API_URLS.DELETE_USER}${id}`, {method: 'delete'})\n        .then(() => (\n          dispatch(removeUser(id))\n        ))\n    );\n  }\n};\n\nexport const editUser = (id, value) => {\n  return dispatch => {\n    return (\n      fetch(`${API_URLS.BASE}${API_URLS.DELETE_USER}${id}`, {method: 'patch'})\n        .then(() => (\n          dispatch(changeUser(id, value))\n        ))\n    );\n  }\n};\n\nconst initialState = {\n  users: [],\n  isLoading: false,\n  isLoaded: false,\n}\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        isLoaded: false,\n      };\n\n    case ACTION_TYPES.HANDLE_SUCCESS:\n      return {\n        ...state,\n        users: action.payload,\n        isLoading: false,\n        isLoaded: true,\n      };\n\n    case ACTION_TYPES.DELETE_USER:\n      return {\n        ...state,\n        users: state.users.reduce((acc, user) => {\n          if (user.id === action.payload) {\n            return [...acc];\n          }\n\n          return [...acc, user,];\n        }, []),\n      };\n\n    case ACTION_TYPES.EDIT_USER:\n      return {\n        ...state,\n        users: state.users.map(user => {\n          if (user.id === action.payload.id) {\n            return ({\n              ...user,\n              first_name: action.payload.value,\n            })\n          }\n\n          return user;\n        }),\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst composeEnhancers = (typeof window !== 'undefined'\n  && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n  reducer,\n  initialState,\n  composeEnhancers(applyMiddleware(thunk))\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { editUser } from '../../store';\n\nclass User extends React.Component {\n  state = {\n    isUserEditing: false,\n    userNameValue: this.props.user.first_name,\n  }\n\n  showUserEditForm = () => {\n    this.setState({\n      isUserEditing: true,\n    });\n  }\n\n  setNewValue = ({\n    target: {\n      value,\n    }\n  }) => {\n    this.setState({\n      userNameValue: value,\n    });\n  }\n\n  onKeyPressed = (event, id) => {\n    if (event.key === \"Escape\" || event.key === \"Esc\") {\n      this.editUser(event, id);\n    }\n  }\n\n  editUser = async (event, id) => {\n    event.preventDefault();\n    const { userNameValue } = this.state;\n    if (userNameValue.trim().length > 0) {\n      await this.props.editUser(id, userNameValue);\n    }\n    this.setState({\n      isUserEditing: false,\n    });\n  }\n\n  render() {\n    const {\n      user: {\n        avatar,\n        first_name,\n        id\n      },\n      deleteUser\n    } = this.props;\n\n    const { isUserEditing, userNameValue } = this.state;\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-content\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <figure className=\"image is-96x96\">\n                <img className=\"is-rounded\" src={avatar} alt=\"\"></img>\n              </figure>\n            </div>\n            <div className=\"media-content content\">\n              {isUserEditing\n                ?\n                <form onSubmit={event => this.editUser(event, id)}>\n                  <input\n                    type=\"text\"\n                    className=\"\"\n                    value={userNameValue}\n                    onChange={this.setNewValue}\n                    onBlur={event => this.editUser(event, id)}\n                    onKeyDown={event => this.onKeyPressed(event, id)}\n                    autoFocus\n                  />\n                </form>\n                :\n                <p\n                  className=\"title is-4\"\n                  onClick={this.showUserEditForm}\n                >\n                  {first_name}\n                </p>\n              }\n              <p>\n                <Link to={`/user/${id}`}>more info</Link>\n              </p>\n              <p>\n                <button\n                  className=\"button is-danger\"\n                  onClick={() => deleteUser(id)}\n                >\n                  Delete user\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  editUser: (id, value) => dispatch(editUser(id, value)),\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(User);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { loadData, deleteUser } from '../../store';\nimport User from '../User/User';\n\nimport './UsersList.scss';\n\nclass UsersList extends React.Component {\n  loadData = () => {\n    this.props.loadData();\n  }\n\n  deleteUser = (id) => {\n    this.props.deleteUser(id);\n  }\n\n  render() {\n    const {\n      users, \n      isLoading, \n      isLoaded,\n    } = this.props;\n\n    return (\n      <div className=\"container has-text-centered users-list\">\n        {!isLoaded &&\n          <button\n            className=\"button is-dark is-large\"\n            onClick={this.loadData}\n            disabled={isLoading}\n          >\n            Get users\n          </button>\n        }\n        {isLoaded &&\n          <section>\n            {users.map(user => (\n              <User\n                user={user} \n                deleteUser={this.deleteUser} \n                key={user.id} \n              />\n            ))}\n          </section>\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: state.users,\n  isLoading: state.isLoading,\n  isLoaded: state.isLoaded,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadData: () => dispatch(loadData()),\n  deleteUser: (id) => dispatch(deleteUser(id)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UsersList);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nconst UserDetails = ({\n  match: {\n    params: {\n      userId\n    }\n  },\n  users\n}) => {\n  const [{\n    avatar, \n    id, \n    first_name, \n    last_name, \n    email\n  }] = users.filter(user => String(user.id) === userId);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-128x128\">\n              <img className=\"is-rounded\" src={avatar} alt=\"\"></img>\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-4\">{`${first_name} ${last_name}`}</p>\n            <p className=\"subtitle is-6\">{email}</p>\n            <p className=\"title\">{`#${id}`}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  users: state.users,\n});\n\nexport default connect(\n  mapStateToProps\n)(UserDetails);","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport UsersList from './components/UsersList/UsersList';\nimport UserDetails from './components/UserDetails/UserDetails';\n\nconst App = () => (\n  <Switch>\n    <Route\n      path=\"/\"\n      exact\n      component={UsersList}\n    />\n    <Route\n      path=\"/user/:userId\"\n      exact\n      component={UserDetails}\n    />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nimport App from './App';\n\nimport 'bulma/css/bulma.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename=\"/users-list-app\">\n      <App />\n    </BrowserRouter>\n  </Provider>, \n  document.getElementById('root'));\n"],"sourceRoot":""}