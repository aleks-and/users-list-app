(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(47)},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),i=a(11),o=a(8),u=a(25),l=a(29),d=a(10),m=a(30);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var p="https://reqres.in/api",b="/users?delay=2",h="/users/",O={START_LOADING:"START_LOADING",HANDLE_SUCCESS:"HANDLE_SUCCESS",DELETE_USER:"DELETE_USER",EDIT_USER:"EDIT_USER"},v=function(){return function(e){return e({type:O.START_LOADING}),fetch("".concat(p).concat(b)).then(function(e){return e.json()}).then(function(t){var a;e((a=t.data,{type:O.HANDLE_SUCCESS,payload:a}))})}},y=function(e){return function(t){return fetch("".concat(p).concat(h).concat(e),{method:"delete"}).then(function(){return t(function(e){return{type:O.DELETE_USER,payload:e}}(e))})}},N=function(e,t){return function(a){return fetch("".concat(p).concat(h).concat(e),{method:"patch"}).then(function(){return a(function(e,t){return{type:O.EDIT_USER,payload:{id:e,value:t}}}(e,t))})}},g={users:[],isLoading:!1,isLoaded:!1};var S="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,U=Object(d.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O.START_LOADING:return E({},e,{isLoading:!0,isLoaded:!1});case O.HANDLE_SUCCESS:return E({},e,{users:t.payload,isLoading:!1,isLoaded:!0});case O.DELETE_USER:return E({},e,{users:e.users.reduce(function(e,a){return a.id===t.payload?Object(u.a)(e):[].concat(Object(u.a)(e),[a])},[])});case O.EDIT_USER:return E({},e,{users:e.users.map(function(e){return e.id===t.payload.id?E({},e,{first_name:t.payload.value}):e})});default:return e}},g,S(Object(d.a)(m.a))),j=a(9),D=a(15),_=a(16),w=a(18),L=a(17),T=a(19),C=a(22),k=a.n(C),A=a(31),R=function(e){function t(){var e,a;Object(D.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={isUserEditing:!1,userNameValue:a.props.user.first_name},a.showUserEditForm=function(){a.setState({isUserEditing:!0})},a.setNewValue=function(e){var t=e.target.value;a.setState({userNameValue:t})},a.onKeyPressed=function(e,t){"Escape"!==e.key&&"Esc"!==e.key||a.editUser(e,t)},a.editUser=function(){var e=Object(A.a)(k.a.mark(function e(t,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((r=a.state.userNameValue).trim().length>0)){e.next=5;break}return e.next=5,a.props.editUser(n,r);case 5:a.setState({isUserEditing:!1});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=a.avatar,c=a.first_name,s=a.id,o=t.deleteUser,u=this.state,l=u.isUserEditing,d=u.userNameValue;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{className:"is-rounded",src:n,alt:""}))),r.a.createElement("div",{className:"media-content content"},l?r.a.createElement("form",{onSubmit:function(t){return e.editUser(t,s)}},r.a.createElement("input",{type:"text",className:"",value:d,onChange:this.setNewValue,onBlur:function(t){return e.editUser(t,s)},onKeyDown:function(t){return e.onKeyPressed(t,s)},autoFocus:!0})):r.a.createElement("p",{className:"title is-4",onClick:this.showUserEditForm},c),r.a.createElement("p",null,r.a.createElement(i.b,{to:"/user/".concat(s)},"more info")),r.a.createElement("p",null,r.a.createElement("button",{className:"button is-danger",onClick:function(){return o(s)}},"Delete user"))))))}}]),t}(r.a.Component),I=Object(o.b)(null,function(e){return{editUser:function(t,a){return e(N(t,a))}}})(R),P=(a(45),function(e){function t(){var e,a;Object(D.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).loadData=function(){a.props.loadData()},a.deleteUser=function(e){a.props.deleteUser(e)},a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.isLoading,c=t.isLoaded;return r.a.createElement("div",{className:"container has-text-centered users-list"},!c&&r.a.createElement("button",{className:"button is-dark is-large",onClick:this.loadData,disabled:n},"Get users"),c&&r.a.createElement("section",null,a.map(function(t){return r.a.createElement(I,{user:t,deleteUser:e.deleteUser,key:t.id})})))}}]),t}(r.a.Component)),x=Object(o.b)(function(e){return{users:e.users,isLoading:e.isLoading,isLoaded:e.isLoaded}},function(e){return{loadData:function(){return e(v())},deleteUser:function(t){return e(y(t))}}})(P),V=a(33),G=Object(o.b)(function(e){return{users:e.users}})(function(e){var t=e.match.params.userId,a=e.users.filter(function(e){return String(e.id)===t}),n=Object(V.a)(a,1)[0],c=n.avatar,s=n.id,i=n.first_name,o=n.last_name,u=n.email;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{className:"is-rounded",src:c,alt:""}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},"".concat(i," ").concat(o)),r.a.createElement("p",{className:"subtitle is-6"},u),r.a.createElement("p",{className:"title"},"#".concat(s))))))}),H=function(){return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/",exact:!0,component:x}),r.a.createElement(j.a,{path:"/user/:userId",exact:!0,component:G}))};a(46);s.a.render(r.a.createElement(o.a,{store:U},r.a.createElement(i.a,{basename:"/users-list-app"},r.a.createElement(H,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.9a0b4ccc.chunk.js.map