(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(47)},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),s=n.n(c),i=n(11),o=n(8),u=n(25),l=n(29),d=n(10),m=n(30);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p="https://reqres.in/api",b="/users?delay=2",h="/users/",O={START_LOADING:"START_LOADING",HANDLE_SUCCESS:"HANDLE_SUCCESS",DELETE_USER:"DELETE_USER",EDIT_USER:"EDIT_USER"},v=function(){return function(e){return e({type:O.START_LOADING}),fetch("".concat(p).concat(b)).then(function(e){return e.json()}).then(function(t){var n;e((n=t.data,{type:O.HANDLE_SUCCESS,payload:n}))})}},y=function(e){return function(t){return fetch("".concat(p).concat(h).concat(e),{method:"delete"}).then(function(){return t(function(e){return{type:O.DELETE_USER,payload:e}}(e))})}},N=function(e,t){return function(n){return fetch("".concat(p).concat(h).concat(e),{method:"put"}).then(function(){return n(function(e,t){return{type:O.EDIT_USER,payload:{id:e,value:t}}}(e,t))})}},g={users:[],isLoading:!1,isLoaded:!1};var S="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,U=Object(d.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O.START_LOADING:return E({},e,{isLoading:!0,isLoaded:!1});case O.HANDLE_SUCCESS:return E({},e,{users:t.payload,isLoading:!1,isLoaded:!0});case O.DELETE_USER:return E({},e,{users:e.users.reduce(function(e,n){return n.id===t.payload?Object(u.a)(e):[].concat(Object(u.a)(e),[n])},[])});case O.EDIT_USER:return E({},e,{users:e.users.map(function(e){return e.id===t.payload.id?E({},e,{first_name:t.payload.value}):e})});default:return e}},g,S(Object(d.a)(m.a))),j=n(9),D=n(15),_=n(16),w=n(18),L=n(17),T=n(19),C=n(22),k=n.n(C),A=n(31),R=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={isUserEditing:!1,userNameValue:n.props.user.first_name},n.showUserEditForm=function(){n.setState({isUserEditing:!0})},n.setNewValue=function(e){var t=e.target.value;n.setState({userNameValue:t})},n.onKeyPressed=function(e,t){"Escape"!==e.key&&"Esc"!==e.key||n.editUser(e,t)},n.editUser=function(){var e=Object(A.a)(k.a.mark(function e(t,a){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((r=n.state.userNameValue).trim().length>0)){e.next=5;break}return e.next=5,n.props.editUser(a,r);case 5:n.setState({isUserEditing:!1});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=n.avatar,c=n.first_name,s=n.id,o=t.deleteUser,u=this.state,l=u.isUserEditing,d=u.userNameValue;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{className:"is-rounded",src:a,alt:""}))),r.a.createElement("div",{className:"media-content content"},l?r.a.createElement("form",{onSubmit:function(t){return e.editUser(t,s)}},r.a.createElement("input",{type:"text",className:"input",value:d,onChange:this.setNewValue,onBlur:function(t){return e.editUser(t,s)},onKeyDown:function(t){return e.onKeyPressed(t,s)},autoFocus:!0})):r.a.createElement("p",{className:"title is-4",onClick:this.showUserEditForm},c),r.a.createElement("p",null,r.a.createElement(i.b,{to:"/user/".concat(s)},"more info")),r.a.createElement("p",null,r.a.createElement("button",{className:"button is-danger",onClick:function(){return o(s)}},"Delete user"))))))}}]),t}(r.a.Component),I=Object(o.b)(null,function(e){return{editUser:function(t,n){return e(N(t,n))}}})(R),P=(n(45),function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).loadData=function(){n.props.loadData()},n.deleteUser=function(e){n.props.deleteUser(e)},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.users,a=t.isLoading,c=t.isLoaded;return r.a.createElement("div",{className:"container has-text-centered users-list"},!c&&r.a.createElement("button",{className:"button is-dark is-large",onClick:this.loadData,disabled:a},"Get users"),c&&r.a.createElement("section",null,n.map(function(t){return r.a.createElement(I,{user:t,deleteUser:e.deleteUser,key:t.id})})))}}]),t}(r.a.Component)),x=Object(o.b)(function(e){return{users:e.users,isLoading:e.isLoading,isLoaded:e.isLoaded}},function(e){return{loadData:function(){return e(v())},deleteUser:function(t){return e(y(t))}}})(P),V=n(33),G=Object(o.b)(function(e){return{users:e.users}})(function(e){var t=e.match.params.userId,n=e.users.filter(function(e){return String(e.id)===t}),a=Object(V.a)(n,1)[0],c=a.avatar,s=a.id,i=a.first_name,o=a.last_name,u=a.email;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{className:"is-rounded",src:c,alt:""}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},"".concat(i," ").concat(o)),r.a.createElement("p",{className:"subtitle is-6"},u),r.a.createElement("p",{className:"title"},"#".concat(s))))))}),H=function(){return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/",exact:!0,component:x}),r.a.createElement(j.a,{path:"/user/:userId",exact:!0,component:G}))};n(46);s.a.render(r.a.createElement(o.a,{store:U},r.a.createElement(i.a,{basename:"/users-list-app"},r.a.createElement(H,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.e4d99bd8.chunk.js.map